<html>
<body style="margin:0;">    
    <canvas style="display:block; margin: 0 auto; border-radius: 50%;" id="canvas"></canvas>    
    <script>
        function cs(e, t, r) { var a = e.createShader(t); if (e.shaderSource(a, r), e.compileShader(a), e.getShaderParameter(a, e.COMPILE_STATUS)) return a; e.deleteShader(a) } function cp(e, t, r) { var a = e.createProgram(); if (e.attachShader(a, t), e.attachShader(a, r), e.linkProgram(a), e.getProgramParameter(a, e.LINK_STATUS)) return a; e.deleteProgram(a) } function main() { var e = document.querySelector("#canvas"), t = document.createElement("canvas"); const r = document.body; var a = .9 * (r.clientWidth < r.clientHeight ? r.clientWidth : r.clientHeight); e.getContext("2d"); e.style.width = a, e.style.height = a, e.width = a, e.height = a, t.width = 2 * a, t.height = 2 * a; t.getContext("webgl") 

const fs = `
precision highp float;

uniform vec2 iResolution;
uniform float iTime;
uniform vec4 iDate;

#define t iTime
#define r iResolution.xy

int mod(int x, int y)
{
    float f = float(x)/float(y);
    return x - y * int(floor(f));
}

float line(vec2 lP, vec2 lA, vec2 lB, float lr)
{
    vec2 g = lB - lA;
    vec2 h = lP - lA;
    float d = length(h - g * clamp(dot(g, h) / dot(g,g), 0.0, 1.0));
	return smoothstep(lr, 0.5*lr, d);
}

vec3 hands(vec2 p, vec3 col)
{
    const float pi = 3.1415;
    float mils = fract(iDate.w);
    float secs = mod( floor(iDate.w), 60.0 );
	float mins = mod( floor(iDate.w/60.0), 60.0 ) + secs/60.;
	float hours = mod( floor(iDate.w/3600.0), 12.0 ) + mins/60.;
    //secs += mils;    

    float l;

    vec2 hp = vec2(sin(2.*pi*hours/12.0),cos(2.*pi*hours/12.))/5.3;
    vec2 mp = vec2(sin(2.*pi*mins/60.0),cos(2.*pi*mins/60.))/3.5;
    vec2 sp = vec2(sin(2.*pi*secs/60.0),cos(2.*pi*secs/60.))/3.;

    vec2 shoff = vec2(-0.006,-0.003);
    vec3 shcol = vec3(0.3);

    if (distance(p, shoff) < 0.025) { col = mix(col, shcol * 1.25, 1.); }
    if (distance(p, vec2(0,0)) < 0.025) { col = mix(col, vec3(1.), 1.); }     
    
    l = line(p, shoff - hp*0.2, shoff + hp, 0.01);
    col = mix(col, shcol, l);
    l = line(p, vec2(0.0) - hp*0.2, hp, 0.01);
    col = mix(col, vec3(1.), l);

    l = line(p, shoff - mp*0.2, shoff + mp, 0.008);
    col = mix(col, shcol, l);
    l = line(p, vec2(0.0) - mp*0.2, mp, 0.008);
    col = mix(col, vec3(1.), l);

    l = line(p, shoff - sp*0.2, shoff + sp, 0.005);
    col = mix(col, shcol, l);
    l = line(p, vec2(0.0) - sp*0.2, sp, 0.005);
    col = mix(col, vec3(1.,0,0), l);

    return col;
}

{{#shadercode#}}

    void main() {
        mainImage(gl_FragColor, gl_FragCoord.xy);
    }
`;

        var vertexShader = cs(gl, gl.VERTEX_SHADER, vs);
        var fragmentShader = cs(gl, gl.FRAGMENT_SHADER, fs);
        const program = cp(gl, vertexShader, fragmentShader);
        const positionAttributeLocation = gl.getAttribLocation(program, "a_position");
        const resolutionLocation = gl.getUniformLocation(program, "iResolution");        
        const timeLocation = gl.getUniformLocation(program, "iTime");
        const dateLocation = gl.getUniformLocation(program, "iDate");
        const positionBuffer = gl.createBuffer();
        gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);
        gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([
            -1, -1,
            1, -1,
            -1, 1,
            -1, 1,
            1, -1,
            1, 1,
        ]), gl.STATIC_DRAW);
        let requestId;
        function rf() {
            if (!requestId) {
                requestId = requestAnimationFrame(render);
            }
        }
        function cf() {
            if (requestId) {
                cancelAnimationFrame(requestId);
                requestId = undefined;
            }
        }
        setInterval(rf, 10);
        let then = 0;
        let time = 0;

        function rc() {
            //replace clock parts below
            ctx.drawImage(webGL, 0, 0, canvas.width, canvas.height);
            ctx.shadowBlur = 5; ctx.shadowColor = '#222222'; ctx.shadowOffsetX = -2; ctx.shadowOffsetY = 1;
            ctx.translate(r, r);
            var ang; var num; ctx.font = r * 0.15 + "px arial"; ctx.textBaseline = "middle"; ctx.textAlign = "center"; ctx.fillStyle = "#DDDDDD";
            ctx.font = r * 0.25 + "px times new roman"; for (num = 1; num < 13; num++) {
                ang = num * Math.PI / 6; ctx.rotate(ang); ctx.translate(0, -r * 0.85); var text = ""; var width = 0.11; switch (num) {
                    case 1:
                        text = " I ";
                        break;
                    case 2:
                        text = "II ";
                        break;
                    case 3:
                        text = "III";
                        break;
                    case 4:
                        text = "IV";
                        break;
                    case 5:
                        text = " V ";
                        break;
                    case 6:
                        text = "VI";
                        break;
                    case 7:
                        text = "VII";
                        break;
                    case 8:
                        text = "VIII";
                        width = 0.15;
                        break;
                    case 9:
                        text = "IX ";
                        break;
                    case 10:
                        text = " X ";
                        break;
                    case 11:
                        text = "XI ";
                        break;
                    case 12:
                        text = "XII";
                        break;
                    default:
                        break;
                }
                ctx.fillText(text, 0, 0, r * width); ctx.rotate(-ang); ctx.rotate(ang); ctx.translate(0, r * 0.85); ctx.rotate(-ang)
            }
            ctx.translate(-r, -r);
        }

        function render(now) {
            requestId = undefined;
            now *= 0.001;
            const elapsedTime = Math.min(now - then, 0.1);
            time += elapsedTime;
            then = now;                            
            gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);
            gl.useProgram(program);
            gl.enableVertexAttribArray(positionAttributeLocation);
            gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);
            gl.vertexAttribPointer(
                positionAttributeLocation,
                2,
                gl.FLOAT,
                false,
                0,
                0,
            );
            gl.uniform2f(resolutionLocation, gl.canvas.width, gl.canvas.height);
            gl.uniform1f(timeLocation, time);
            var d = new Date();
            gl.uniform4f(dateLocation, d.getFullYear(), d.getMonth(), d.getDate(), d.getSeconds() + d.getMinutes() * 60 + d.getHours() * 60 * 60 + (d.getMilliseconds() / 1000));
            gl.drawArrays(
                gl.TRIANGLES,
                0,
                6,
            );
            rf();

            rc();            
        }
        rf();
        requestAnimationFrame(cf);
    }
    main();
    </script>
</body>
</html>